webpackJsonp([11],{1026:function(e,t,a){"use strict";function n(e){if(d)return void e(d);i.a.newInstance({prefixCls:f,transitionName:"move-up",style:{top:s},getContainer:p},function(t){if(d)return void e(d);d=t,e(t)})}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,a=arguments[2],r=arguments[3],i={info:"info-circle",success:"check-circle",error:"cross-circle",warning:"exclamation-circle",loading:"loading"}[a];"function"==typeof t&&(r=t,t=o);var s=l++;return n(function(n){n.notice({key:s,duration:t,style:{},content:u.createElement("div",{className:f+"-custom-content "+f+"-"+a},u.createElement(c.default,{type:i}),u.createElement("span",null,e)),onClose:r})}),function(){d&&d.removeNotice(s)}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(5),i=(a.n(u),a(334)),c=a(313),o=3,s=void 0,d=void 0,l=1,f="ant-message",p=void 0;t.default={info:function(e,t,a){return r(e,t,"info",a)},success:function(e,t,a){return r(e,t,"success",a)},error:function(e,t,a){return r(e,t,"error",a)},warn:function(e,t,a){return r(e,t,"warning",a)},warning:function(e,t,a){return r(e,t,"warning",a)},loading:function(e,t,a){return r(e,t,"loading",a)},config:function(e){void 0!==e.top&&(s=e.top,d=null),void 0!==e.duration&&(o=e.duration),void 0!==e.prefixCls&&(f=e.prefixCls),void 0!==e.getContainer&&(p=e.getContainer)},destroy:function(){d&&(d.destroy(),d=null)}}},1027:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(193),r=(a.n(n),a(1060));a.n(r)},1060:function(e,t){},792:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(341),u=n(r),i=a(66),c=n(i),o=a(7),s=n(o),d=a(1026),l=n(d),f=a(128),p=n(f);a(1027);var v=a(860);t.default={namespace:"device",state:{loading:!1,gateList:[],gateListCache:[],visible:!1},effects:{getGateList:p.default.mark(function e(t,a){var n,r=a.call,u=a.put;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(v.queryGateData);case 2:return n=e.sent,console.log(n),e.next=6,u({type:"getGateListLocal",payload:n});case 6:case"end":return e.stop()}},e,this)}),submitGateForm:p.default.mark(function e(t,a){var n,r,u=t.payload,i=a.call,c=a.put;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({type:"changeGateFormSubmitting",payload:!0});case 2:return e.next=4,i(v.addGateData,u);case 4:if(n=e.sent,"ok"!==n.message){e.next=18;break}return e.next=8,c({type:"changeGateFormSubmitting",payload:!1});case 8:return e.next=10,c({type:"changeGateFormVisibility",payload:!1});case 10:return l.default.success("\u63d0\u4ea4\u6210\u529f"),e.next=13,i(v.queryGateData);case 13:return r=e.sent,e.next=16,c({type:"getGateListLocal",payload:r});case 16:e.next=19;break;case 18:l.default.success("\u63d0\u4ea4\u5931\u8d25");case 19:case"end":return e.stop()}},e,this)}),saveGateList:p.default.mark(function e(t,a){var n,r=t.payload,u=a.call,i=a.put;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r.newData.filter(function(e){return r.cross_id===e.cross_id})[0])){e.next=6;break}return e.next=4,i({type:"changeGateFormSubmitting",payload:!0});case 4:return e.next=6,u(v.alterGateData,n);case 6:return e.next=8,i({type:"saveGateListLocal",payload:r.cross_id});case 8:return e.next=10,i({type:"changeGateFormSubmitting",payload:!1});case 10:case"end":return e.stop()}},e,this)}),deleteGate:p.default.mark(function e(t,a){var n,r=t.payload,u=a.call,i=a.put;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({type:"changeGateFormSubmitting",payload:!0});case 2:return e.next=4,u(v.deleteGateData,r);case 4:return e.next=6,i({type:"changeGateFormSubmitting",payload:!1});case 6:return e.next=8,u(v.queryGateData);case 8:return n=e.sent,e.next=11,i({type:"getGateListLocal",payload:n});case 11:case"end":return e.stop()}},e,this)})},reducers:{changeGateFormSubmitting:function(e,t){var a=t.payload;return(0,s.default)({},e,{loading:a})},changeGateFormVisibility:function(e,t){var a=t.payload;return(0,s.default)({},e,{visible:a})},getGateListLocal:function(e,t){var a=t.payload;return(0,s.default)({},e,{gateList:a.list})},editGateList:function(e,t){var a=t.payload,n=[].concat((0,c.default)(e.gateList)),r=n.filter(function(e){return a===e.cross_id})[0];return r?(r.editable=!0,(0,s.default)({},e,{gateList:n})):(0,s.default)({},e)},saveGateListLocal:function(e,t){var a=t.payload,n=[].concat((0,c.default)(e.gateList)),r=n.filter(function(e){return a===e.cross_id})[0];if(r){delete r.editable;var u=n.map(function(e){return(0,s.default)({},e)});return(0,s.default)({},e,{gateList:n,gateListCache:u})}return(0,s.default)({},e)},onHandleGateChange:function(e,t){var a=t.payload,n=[].concat((0,c.default)(e.gateList)),r=n.filter(function(e){return a.cross_id===e.cross_id})[0];return r?(r[a.column]=a.value,(0,s.default)({},e,{gateList:n})):(0,s.default)({},e)},cancelGateList:function(e,t){var a=t.payload,n=[].concat((0,c.default)(e.gateList)),r=n.filter(function(e){return a===e.cross_id})[0];return r?((0,u.default)(r,e.gateListCache.filter(function(e){return a===e.cross_id})[0]),delete r.editable,(0,s.default)({},e,{gateList:n})):(0,s.default)({},e)}}},e.exports=t.default},860:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.findRoadNameById=t.deleteGateData=t.alterGateData=t.addGateData=t.queryGateData=void 0;var r=a(128),u=n(r),i=a(318),c=n(i),o=(t.queryGateData=function(){var e=(0,c.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)(d+"/v1/device/get_device",{method:"GET",mode:"cors",credentials:""}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.addGateData=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)(d+"/v1/device/add_device/"+t.cross_id+"/"+t.road_name+"/"+t.longitude+"/"+t.latitude,{method:"GET",mode:"cors",credentials:""}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.alterGateData=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)(d+"/v1/device/alter_device/"+t.cross_id+"/"+t.road_name+"/"+t.longitude+"/"+t.latitude,{method:"GET",mode:"cors",credentials:""}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.deleteGateData=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)(d+"/v1/device/delete_device/"+t,{method:"GET",mode:"cors",credentials:""}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.findRoadNameById=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)(d+"/v1/device/get_device_name/"+t,{method:"GET",mode:"cors",credentials:""}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a(319)),s=n(o),d="http://39.107.79.52:4002/api/method=get&appkey=436etaq52e57a3cd028ab56b&seckey=sec-mj12Slu12w1Xs1er8ZzmGZqw5qrpFmqw25jHULr13eUZCswA"}});